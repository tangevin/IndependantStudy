using UnityEngine;
using System.Collections;

public class Enemy : Pathfinding {

	private int health = 100;

	private GameObject target;
	private Vector3 endPosition;
	private Ground ground;
	
	void Start()
	{
		ground = GameObject.FindGameObjectWithTag("Ground").GetComponent<Ground>();
		target = GameObject.FindGameObjectWithTag("Base");
		endPosition = target.transform.position;
		FindPath(this.transform.position, endPosition);
	}
	
	void Update ()
	{
		FindPath(this.transform.position, endPosition);
		if (!hasPath())
		{
			ground.removeLastWallsPlaced();
			FindPath(this.transform.position, endPosition);
		}
		
		Move();
	}

	public bool hasPath()
	{
		return Path.Count > 0;
	}

<<<<<<< HEAD
	public string ToString() {
		return "Position: " + this.transform.position;
=======
	public int damage(int dam)
	{
		this.health -= dam;

		if (this.health <= 0)
		{
			GameObject.Destroy(this.gameObject);
		}

		return this.health;
	}

	public int getHealth()
	{
		return this.health;
>>>>>>> 513f0c77a25e48c33000cac53bd77d7730acf8e5
	}
}
